\documentclass[%
    10pt,
    xcolor={dvipsnames},
]{beamer}
\usepackage{lstautogobble}
\usepackage[listings,skins]{tcolorbox}
\usetheme[miniframes,framenumber-footline]{Mumbai} % available at https://github.com/vachan-potluri/beamer_themes/tree/main/Mumbai



\lstdefinestyle{ScilabStyle}
{
    % scilab formatting style
    language=Scilab,
    backgroundcolor=\color{gray!10},
    basicstyle=\linespread{1.25}\ttfamily\small,
    commentstyle=\color{green!70!black},
    keywordstyle=\bfseries\color{blue},
    numberstyle=\color{gray}\sffamily\footnotesize,
    stringstyle=\color{red},
    basewidth=0.6em,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=t,
    frame=l,
    keepspaces=true,
    numbers=none,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    morekeywords=[2]{\%t,\%f,\%pi,\%e,\%i,\%inf,\%nan,\%eps},
    keywordstyle=[2]\color{magenta},
    morecomment=[s][\bfseries\color{orange!70}]{/*}{*/},
    %morecomment=[l][\itshape\color{blue!30!green}]{//-},
    autogobble=true,
    xleftmargin=1em,
    xrightmargin=1em,
}
\lstset{style=ScilabStyle}
\newcommand{\email}[1]{\href{mailto:#1}{\texttt{#1}}} % for email ids
\newcommand{\inlinecode}[1]{\inlinecodebox{#1}} % inline code
\newcommand{\keyword}[1]{#1}
\newcommand{\matlab}{\texttt{MATLAB}}
\newcommand{\scilab}{\texttt{Scilab}}
\newtcbox{\inlinecodebox}{%
    code={\usebeamercolor{palette primary}},
    on line,
    colback=bg,
    coltext=fg,
    size=tight,
    boxsep=2pt,
    arc=0pt,
    fontupper=\ttfamily,
    bottomrule=0pt,
    toprule=0pt,
    leftrule=0pt,
    rightrule=0pt,
} % for printing inline code, used in \inlinecode
\newtcbox{\key}{%
    enhanced,
    on line,
    colback=gray!25,
    size=fbox,
    bottomrule=0pt,
    toprule=0pt,
    leftrule=0pt,
    rightrule=0pt,
    fontupper=\ttfamily,
    drop fuzzy shadow,
} % for printing keyboard keys




\title{Scilab}
\author[Vachan Potluri]{%
    Vachan Potluri\\
    \email{vachanpotluri@iitb.ac.in}
}



\begin{document}

\setlength\leftmargini{1em} % left margin, first level itemize
\setlength\leftmarginii{\leftmargini} % left margin, 2nd level
\setlength\leftmarginiii{\leftmarginii} % left margin, 3rd level

{
    \setbeamertemplate{headline}{}
    \setbeamertemplate{footline}{}
    \begin{frame}
        \titlepage
    \end{frame}
}

\begin{frame}{Introduction}
    \begin{block}{What is \scilab?}
        A free alternative to \matlab
    \end{block}
    \begin{block}<visible@2->{What can it do?}
        \begin{enumerate}
            \item Advanced calculator
            \item Programming
            \item Plotting, visualisation
        \end{enumerate}
    \end{block}
\end{frame}

\section{\scilab{} console}
\subsection{Advanced calculator}
\begin{frame}[fragile]{As a calculator}
    Try out these and see if they give expected results
    \begin{lstlisting}[numbers=left]
        2+3-4
        4^2
        4**4
        6/4
        2+(2^2-(1/2))
        1e-3 + 1d-2
    \end{lstlisting}
\onslide<2->
    See what happens when you add a semicolon
    \begin{lstlisting}
        6/4;
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Variables}
    All calculations are stored by default in \inlinecode{ans}
    \begin{lstlisting}
        6/4;
        ans
    \end{lstlisting}
\onslide<2->
    You can specify a variable to store the value instead \ldots
    \begin{lstlisting}
        pi_approx = 22/7;
    \end{lstlisting}
    and see its value later
    \begin{lstlisting}
        pi_approx
        disp(pi_approx)
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Other \scilab{} windows}
    \begin{itemize}
        \item \keyword{Variable Browser}
        \begin{itemize}
            \item Only lists user-defined variables
            \item To list all variables:
            \begin{lstlisting}
                whos
            \end{lstlisting}
\onslide<2->
            \item You can delete all or specific user-defined variables
            \begin{lstlisting}
                pi_approx = 22/7;
                disp(pi_approx)
                clear pi_approx
                disp(pi_approx)
            \end{lstlisting}
        \end{itemize}
\onslide<3->
        \item \keyword{Command History}
        \begin{itemize}
            \item Execute an old command by double clicking
            \item Can also navigate using $\uparrow$ and $\downarrow$ keys
            \item Clear screen using \inlinecode{clc}
        \end{itemize}
\onslide<4->
        \item \keyword{File Browser}
        \begin{itemize}
            \item Useful when working with multiple files
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{More on variables}
    Some useful pre-defined variables
    \begin{lstlisting}[numbers=left]
        %pi
        %e
        %i
        %t
        %f
        %inf
        %nan
        %eps
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Pre-defined functions}
    See if the outputs of these lines are as expected
    \begin{lstlisting}[numbers=left]
        abs(-2)
        min(3,4,5)
        max(-2,-3,-4)
        sin(%pi/2)
        cos(%pi)
        tan(%pi/4)
        asin(1)/(%pi/2)
        exp(2)/%e^2
        log10(100)
        log(%e)
    \end{lstlisting}
    Auto-completion: hit \key{TAB}
\end{frame}

\subsection{Arrays and matrices}
\begin{frame}[fragile]{Manual matrix creation}
    Wrap inside \inlinecode{[]}, use \inlinecode{,} and \inlinecode{;} to fill row and columns
    \begin{lstlisting}
        x = [1,2,3]
        y = [4;5;6;7]
        A = [1,0;0,1]
    \end{lstlisting}
\onslide<2->
    \scilab{} will warn you if the dimensions are inconsistent
    \begin{lstlisting}
        B = [1,2,3;4,5]
    \end{lstlisting}
\onslide<3->
    Adding \inlinecode{'} will transpose the matrix
    \begin{lstlisting}
        B = [1,2,3;4,5,6];
        B'
    \end{lstlisting}
\onslide<4->
    You can fill matrices with pre-existing matrices
    \begin{lstlisting}
        row1 = [1,2,3,4];
        row2 = [5,6,7,8];
        M = [row1;row2]
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Special functions for matrix creation}
    Creating ranges
    \begin{lstlisting}
        i = 1:10
        j = 1:2:10
        x = 0:0.1:1
        y = linspace(0,1,25)
    \end{lstlisting}
\onslide<2->
    Some useful commands for creating dummy matrices of required size
    \begin{lstlisting}
        A = zeros(2,2)
        B = ones(3,2)
        M = eye(3,3)
    \end{lstlisting}
\onslide<3->
    Can you make sense of this output?
    \begin{lstlisting}
        M = [[zeros(1,2);ones(1,2);eye(2,2)],ones(4,1)]
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Matrix operations}
    \begin{columns}
        \begin{column}{0.49\linewidth}
            Scalar operations affect all elements of matrices
            \begin{lstlisting}
                A = eye(3,3);
                A*2
                A/4
                A+5
            \end{lstlisting}
\onslide<2->
            \scilab{} automatically figures out matrix operations too
            \begin{lstlisting}
                B = 2*ones(3,3)
                A+B
                A*B
                B^2
            \end{lstlisting}
        \end{column}
        \begin{column}{0.49\linewidth}
\onslide<3->
            Special element wise operations
            \begin{lstlisting}
                A.+B
                A.*B
                A.^2
                A.^B
                A./B
            \end{lstlisting}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{Matrix functions}
    Most \scilab{} functions can operate element-wise on matrices
    \begin{lstlisting}
        A = %pi/2*[0,1;2,3];
        sin(A)
    \end{lstlisting}
\onslide<2->
    Some special functions for matrices
    \begin{lstlisting}
        length(A)
        size(A)
        det(A)
        inv(A)
        trace(A)
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Matrix indexing}
    \begin{columns}
        \begin{column}{0.49\linewidth}
            Access elements using \inlinecode{(row,col)}
            \begin{lstlisting}
                A = eye(3,3);
                A(1,2) = 2;
                A
            \end{lstlisting}
\onslide<2->
            A single index can also be used: increments column-wise
            \begin{lstlisting}
                A(4)
            \end{lstlisting}
\onslide<3->
            Extract rows and columns using \inlinecode{:}
            \begin{lstlisting}
                A(:,2)
                A(1,:)
            \end{lstlisting}
\onslide<4->
            Special symbol \inlinecode{\$}
            \begin{lstlisting}
                A($,3)
            \end{lstlisting}
        \end{column}
        \begin{column}{0.49\linewidth}
\onslide<5->
            Arrays can also be used to access and modify
            \begin{lstlisting}
                A([1,2],2)
                A(4,:) = [10,20,30]
            \end{lstlisting}
\onslide<6->
            See if this makes sense
            \begin{lstlisting}
                A = eye(4,4);
                j = [2,4];
                A(1,j) = j
                A([7,8]) = 50
                A($,$) = -1
                B = [9,10;j];
                A(B) = 100
            \end{lstlisting}
        \end{column}
    \end{columns}
\end{frame}

\end{document}